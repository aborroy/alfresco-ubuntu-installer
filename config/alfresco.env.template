# =============================================================================
# Alfresco Environment Configuration Template
# =============================================================================
# INSTRUCTIONS:
# 1. Copy this file to 'alfresco.env': cp alfresco.env.template alfresco.env
# 2. Customize the values below (especially passwords!)
# 3. Keep alfresco.env secure and never commit it to version control
#
# Alternatively, run: bash scripts/00-generate-config.sh
# to auto-generate secure random passwords.
# =============================================================================

# -----------------------------------------------------------------------------
# Installation User and Paths
# -----------------------------------------------------------------------------
export ALFRESCO_USER="${ALFRESCO_USER:-ubuntu}"
export ALFRESCO_GROUP="${ALFRESCO_GROUP:-ubuntu}"
export ALFRESCO_HOME="${ALFRESCO_HOME:-/home/ubuntu}"

# -----------------------------------------------------------------------------
# Database Configuration (PostgreSQL)
# -----------------------------------------------------------------------------
export ALFRESCO_DB_HOST="${ALFRESCO_DB_HOST:-localhost}"
export ALFRESCO_DB_PORT="${ALFRESCO_DB_PORT:-5432}"
export ALFRESCO_DB_NAME="${ALFRESCO_DB_NAME:-alfresco}"
export ALFRESCO_DB_USER="${ALFRESCO_DB_USER:-alfresco}"
export ALFRESCO_DB_PASSWORD="${ALFRESCO_DB_PASSWORD:-CHANGE_ME}"

# -----------------------------------------------------------------------------
# Solr Configuration
# -----------------------------------------------------------------------------
export SOLR_HOST="${SOLR_HOST:-localhost}"
export SOLR_PORT="${SOLR_PORT:-8983}"
export SOLR_SHARED_SECRET="${SOLR_SHARED_SECRET:-CHANGE_ME}"

# -----------------------------------------------------------------------------
# Keystore Configuration
# -----------------------------------------------------------------------------
export KEYSTORE_PASSWORD="${KEYSTORE_PASSWORD:-CHANGE_ME}"
export KEYSTORE_METADATA_PASSWORD="${KEYSTORE_METADATA_PASSWORD:-CHANGE_ME}"

# -----------------------------------------------------------------------------
# ActiveMQ Configuration
# -----------------------------------------------------------------------------
export ACTIVEMQ_HOST="${ACTIVEMQ_HOST:-localhost}"
export ACTIVEMQ_PORT="${ACTIVEMQ_PORT:-61616}"
export ACTIVEMQ_WEBCONSOLE_PORT="${ACTIVEMQ_WEBCONSOLE_PORT:-8161}"
export ACTIVEMQ_ADMIN_USER="${ACTIVEMQ_ADMIN_USER:-admin}"
export ACTIVEMQ_ADMIN_PASSWORD="${ACTIVEMQ_ADMIN_PASSWORD:-CHANGE_ME}"

# -----------------------------------------------------------------------------
# Transform Service Configuration
# -----------------------------------------------------------------------------
export TRANSFORM_HOST="${TRANSFORM_HOST:-localhost}"
export TRANSFORM_PORT="${TRANSFORM_PORT:-8090}"

# -----------------------------------------------------------------------------
# Tomcat Configuration
# -----------------------------------------------------------------------------
export TOMCAT_HTTP_PORT="${TOMCAT_HTTP_PORT:-8080}"
export TOMCAT_SHUTDOWN_PORT="${TOMCAT_SHUTDOWN_PORT:-8005}"
export TOMCAT_AJP_PORT="${TOMCAT_AJP_PORT:-8009}"

# -----------------------------------------------------------------------------
# Memory Settings (Auto-calculated based on system RAM if not set)
# -----------------------------------------------------------------------------
# Memory is automatically allocated based on total system RAM:
#   < 8GB:  minimal profile (not recommended for production)
#   8-16GB: small profile
#   16-32GB: medium profile (recommended)
#   32-64GB: large profile
#   64GB+: xlarge profile
#
# Uncomment and set these to override auto-detection (values in MB):
# export TOMCAT_XMS_MB="4096"
# export TOMCAT_XMX_MB="6144"
# export SOLR_HEAP_MB="2048"
# export TRANSFORM_HEAP_MB="1024"
# export ACTIVEMQ_HEAP_MB="512"
# export POSTGRES_SHARED_BUFFERS_MB="1024"
# export POSTGRES_EFFECTIVE_CACHE_MB="2048"

# -----------------------------------------------------------------------------
# Nginx Configuration
# -----------------------------------------------------------------------------
export NGINX_HTTP_PORT="${NGINX_HTTP_PORT:-80}"
export NGINX_HTTPS_PORT="${NGINX_HTTPS_PORT:-443}"
export NGINX_SERVER_NAME="${NGINX_SERVER_NAME:-localhost}"

# -----------------------------------------------------------------------------
# Alfresco URL Configuration
# -----------------------------------------------------------------------------
export ALFRESCO_PROTOCOL="${ALFRESCO_PROTOCOL:-http}"
export ALFRESCO_HOST="${ALFRESCO_HOST:-localhost}"
export ALFRESCO_PORT="${ALFRESCO_PORT:-8080}"

export SHARE_PROTOCOL="${SHARE_PROTOCOL:-http}"
export SHARE_HOST="${SHARE_HOST:-localhost}"
export SHARE_PORT="${SHARE_PORT:-8080}"
